# Формы входа и регистрации с настраиваемым компонентом Input

## Цель репозитория

Этот проект создан для демонстрации навыков работы с React и реализации переиспользуемых компонентов. Основная цель — создать настраиваемый компонент поля ввода (`Input`), стилизованный в соответствии с дизайн-системой Mantine, и использовать его для построения форм входа (`Signin`) и регистрации (`Signup`).

Проект показывает:
- Создание переиспользуемых React-компонентов
- Декомпозицию компонентов на более мелкие части
- Управление состоянием форм
- Стилизацию компонентов в стиле современной UI-библиотеки
- Интерактивную демонстрацию возможностей компонента

## Решаемая задача

### Функциональные требования

1. **Настраиваемый компонент Input**
   - Поддержка всех основных props: `placeholder`, `label`, `description`, `error`
   - Настройка внешнего вида: `variant` (default, filled, unstyled), `radius`, `size`
   - Функциональные опции: `disabled`, `withAsterisk` (красная звездочка для обязательных полей)
   - Поддержка иконок слева от текста (например, символ "@" для поля никнейма)
   - Состояния: обычное, focus, error, disabled
   - Стилизация в соответствии с Mantine TextInput

2. **Компонент Signin (Вход)**
   - Поле для email (`type="email"`)
   - Поле для пароля (`type="password"`)
   - Кнопка "Войти"
   - Принимает функцию `onSubmit` в props
   - Передает объект с данными формы в `onSubmit` после отправки

3. **Компонент Signup (Регистрация)**
   - Поле "Имя" (текстовое)
   - Поле "Ник" с иконкой "@" слева
   - Поле "Почта" (`type="email"`)
   - Поле "Пол" с радио-кнопками (Мужской/Женский)
   - Поле "Пароль" (`type="password"`)
   - Поле "Повторить пароль" (`type="password"`)
   - Принимает функцию `onSubmit` в props
   - Передает объект со всеми данными формы в `onSubmit` после отправки

4. **Интерактивная демонстрация**
   - Панель настроек для тестирования всех возможностей компонента Input
   - Изменения применяются в реальном времени

### Проблема, которую решает проект

Проект решает задачу создания единообразного, переиспользуемого компонента поля ввода, который:
- Имеет единый стиль во всем приложении
- Легко настраивается через props
- Поддерживает все необходимые состояния и варианты использования
- Соответствует современным стандартам UI/UX дизайна
- Демонстрирует правильную декомпозицию компонентов для улучшения поддерживаемости кода

## Структура репозитория

```
form1/
├── src/
│   ├── components/              # React компоненты
│   │   ├── Input/               # Декомпозированный компонент Input
│   │   │   ├── Input.jsx        # Главный компонент Input
│   │   │   ├── InputLabel.jsx   # Компонент лейбла
│   │   │   ├── InputDescription.jsx  # Компонент описания
│   │   │   ├── InputError.jsx   # Компонент ошибки
│   │   │   ├── InputWrapper.jsx # Обертка для input с иконкой
│   │   │   └── utils/          # Утилиты
│   │   │       ├── inputConfig.js      # Конфигурация размеров и радиусов
│   │   │       └── useInputStyles.js    # Хук для вычисления стилей
│   │   ├── Input.css            # Стили для компонента Input
│   │   ├── InputDemo/           # Декомпозированный компонент демо-панели
│   │   │   ├── InputDemo.jsx    # Главный компонент демо-панели
│   │   │   ├── InputDemoPreview.jsx    # Превью компонента
│   │   │   ├── InputDemoControls.jsx  # Панель контролов
│   │   │   ├── ControlGroup.jsx       # Обертка для контрола
│   │   │   ├── TextControl.jsx        # Текстовый контрол
│   │   │   ├── SelectControl.jsx      # Выпадающий список
│   │   │   ├── SliderControl.jsx      # Слайдер
│   │   │   ├── ToggleControl.jsx      # Переключатель
│   │   │   └── *.css                  # Стили для каждого компонента
│   │   ├── common/              # Общие переиспользуемые компоненты
│   │   │   ├── FormButton.jsx   # Кнопка формы
│   │   │   ├── FormButton.css
│   │   │   ├── RadioGroup.jsx   # Группа радио-кнопок
│   │   │   ├── RadioGroup.css
│   │   │   └── AtIcon.jsx       # Иконка @
│   │   ├── Signin.jsx           # Компонент формы входа
│   │   ├── Signin.css           # Стили для формы входа
│   │   ├── Signup.jsx           # Компонент формы регистрации
│   │   └── Signup.css           # Стили для формы регистрации
│   ├── App.jsx                  # Главный компонент приложения
│   ├── App.css                  # Глобальные стили приложения
│   └── main.jsx                 # Точка входа в приложение
├── index.html                   # HTML шаблон
├── vite.config.js               # Конфигурация Vite
├── package.json                 # Зависимости и скрипты
└── README.md                    # Документация проекта
```

### Описание модулей

#### `src/components/Input/` — Декомпозированный компонент Input

**Главный компонент:**
- `Input.jsx` — основной компонент, объединяющий все подкомпоненты

**Подкомпоненты:**
- `InputLabel.jsx` — отображает лейбл с опциональной красной звездочкой
- `InputDescription.jsx` — отображает описание под лейблом
- `InputError.jsx` — отображает сообщение об ошибке
- `InputWrapper.jsx` — обертка для input элемента с поддержкой иконки слева

**Утилиты:**
- `utils/inputConfig.js` — конфигурация размеров (xs, sm, md, lg, xl) и радиусов
- `utils/useInputStyles.js` — кастомный хук для вычисления стилей на основе props

**Особенности:**
- Все стандартные HTML-атрибуты input
- Кастомные props для настройки внешнего вида и поведения
- Состояния focus, error, disabled
- Иконки слева от текста
- Валидация через HTML5 атрибуты

#### `src/components/common/` — Общие переиспользуемые компоненты

- `FormButton.jsx` — универсальная кнопка для форм с единым стилем
- `RadioGroup.jsx` — компонент группы радио-кнопок с настраиваемыми опциями
- `AtIcon.jsx` — иконка символа "@" для использования в полях ввода

#### `src/components/InputDemo/` — Декомпозированный компонент демо-панели

**Главный компонент:**
- `InputDemo.jsx` — управляет состоянием и координирует работу подкомпонентов

**Подкомпоненты:**
- `InputDemoPreview.jsx` — отображает превью компонента Input с текущими настройками
- `InputDemoControls.jsx` — панель со всеми контролами для настройки
- `ControlGroup.jsx` — обертка для отдельного контрола (лейбл + контрол)
- `TextControl.jsx` — текстовое поле для ввода значений
- `SelectControl.jsx` — выпадающий список для выбора вариантов
- `SliderControl.jsx` — слайдер для выбора числовых значений
- `ToggleControl.jsx` — переключатель для boolean значений

**Особенности:**
- Интерактивная панель настроек
- Изменения применяются в реальном времени
- Все контролы изолированы и переиспользуемы

#### `src/components/Signin.jsx`
Компонент формы входа. Использует:
- Два компонента `Input` (email и password)
- Компонент `FormButton` для кнопки отправки
- Локальное состояние для управления данными формы
- Обработчик отправки формы, который вызывает `onSubmit` с данными

#### `src/components/Signup.jsx`
Компонент формы регистрации. Использует:
- Несколько компонентов `Input` для различных полей
- Компонент `AtIcon` для поля никнейма
- Компонент `RadioGroup` для выбора пола
- Компонент `FormButton` для кнопки отправки
- Обработчик отправки формы

#### `src/App.jsx`
Главный компонент, который:
- Рендерит демо-панель Input
- Рендерит формы Signin и Signup
- Предоставляет обработчики `onSubmit` для демонстрации работы

### Взаимодействие компонентов

```
App.jsx
├── InputDemo/
│   ├── InputDemoPreview.jsx
│   │   └── Input/Input.jsx
│   └── InputDemoControls.jsx
│       ├── TextControl.jsx
│       ├── SelectControl.jsx
│       ├── SliderControl.jsx
│       └── ToggleControl.jsx
├── Signin.jsx
│   ├── Input/Input.jsx (email, password)
│   └── common/FormButton.jsx
└── Signup.jsx
    ├── Input/Input.jsx (имя, ник с иконкой, почта, пароль, повторить пароль)
    ├── common/RadioGroup.jsx (пол)
    ├── common/AtIcon.jsx
    └── common/FormButton.jsx
```

Все компоненты используют единый `Input/Input.jsx`, что обеспечивает консистентность дизайна и поведения. Декомпозиция позволяет легко поддерживать и расширять код.

## Как запускать / использовать / тестировать

### Предварительные требования

- Node.js (версия 16 или выше)
- npm или yarn

### Установка зависимостей

```bash
npm install
```

### Запуск в режиме разработки

```bash
npm run dev
```

После запуска приложение будет доступно по адресу `http://localhost:5173` (или другому порту, если 5173 занят).

### Сборка для продакшена

```bash
npm run build
```

Собранные файлы будут в папке `dist/`.

### Просмотр собранной версии

```bash
npm run preview
```

### Инструкции для проверки

1. **Проверка демо-панели Input:**
   - Откройте приложение в браузере
   - В верхней части страницы вы увидите демо-панель
   - Слева — превью компонента Input
   - Справа — панель настроек
   - Попробуйте изменить различные параметры:
     - Placeholder, Label, Description, Error (текстовые поля)
     - Variant (выпадающий список: Default, Filled, Unstyled)
     - Radius (слайдер: xs, sm, md, lg, xl)
     - Size (слайдер: xs, sm, md, lg, xl)
     - Disabled (переключатель)
     - With asterisk (переключатель)
   - Убедитесь, что изменения применяются в реальном времени

2. **Проверка формы Signin:**
   - Найдите секцию "Вход" на странице
   - Заполните поля email и password
   - Нажмите кнопку "Войти"
   - Должно появиться alert с данными формы
   - Проверьте консоль браузера — там также будут данные

3. **Проверка формы Signup:**
   - Найдите секцию "Регистрация" на странице
   - Заполните все поля:
     - Имя
     - Ник (обратите внимание на иконку "@" слева)
     - Почта
     - Пол (выберите один из вариантов)
     - Пароль
     - Повторить пароль
   - Нажмите кнопку "Зарегистрироваться"
   - Должно появиться alert с данными формы
   - Проверьте консоль браузера

4. **Проверка валидации:**
   - Попробуйте отправить формы без заполнения обязательных полей
   - Браузер должен показать стандартную валидацию HTML5
   - Поля с `withAsterisk` должны иметь красную звездочку

5. **Проверка состояний Input:**
   - В демо-панели включите "Disabled" — поле должно стать неактивным
   - Введите текст в поле "Error" — должно появиться сообщение об ошибке
   - Кликните на поле ввода — должна появиться синяя рамка (focus state)
   - Попробуйте разные варианты Variant, Radius и Size

## Важные детали

### Технологический стек

- **React 18.2.0** — библиотека для создания пользовательских интерфейсов
- **Vite 5.0.0** — инструмент сборки и dev-сервер
- **Чистый CSS** — стилизация без дополнительных библиотек

### Особенности реализации

1. **Декомпозиция компонентов:**
   - Компоненты разбиты на более мелкие, переиспользуемые части
   - Каждый компонент отвечает за одну задачу (Single Responsibility Principle)
   - Улучшена читаемость и поддерживаемость кода
   - Легче тестировать отдельные части

2. **Стилизация в стиле Mantine:**
   - Компонент Input стилизован в соответствии с дизайн-системой Mantine
   - Используются точные цвета, размеры и радиусы из Mantine
   - Поддержка всех вариантов: default, filled, unstyled

3. **Управление состоянием:**
   - Используется React hooks (`useState`) для локального состояния форм
   - Состояние focus управляется через кастомный хук `useInputStyles`
   - Конфигурация вынесена в отдельные утилиты

4. **Передача данных:**
   - Компоненты Signin и Signup принимают функцию `onSubmit` через props
   - Данные передаются в виде объекта с ключами, соответствующими именам полей
   - Пример данных Signin: `{ email: "...", password: "..." }`
   - Пример данных Signup: `{ name: "...", nickname: "...", email: "...", gender: "...", password: "...", repeatPassword: "..." }`

5. **Иконки:**
   - Иконка "@" для поля никнейма реализована как отдельный компонент `AtIcon`
   - Размер иконки: 16px (как в Mantine)
   - Иконка позиционируется абсолютно слева внутри поля ввода

6. **Переиспользуемые компоненты:**
   - `FormButton` — единая кнопка для всех форм
   - `RadioGroup` — универсальный компонент для групп радио-кнопок
   - Все контролы в `InputDemo` изолированы и могут использоваться отдельно

7. **Адаптивность:**
   - Демо-панель адаптируется под размер экрана
   - На мобильных устройствах панель настроек располагается под превью

### Преимущества декомпозиции

- **Переиспользуемость:** Компоненты можно использовать отдельно в других частях приложения
- **Читаемость:** Каждый компонент имеет четкую ответственность
- **Поддерживаемость:** Легче находить и исправлять ошибки
- **Тестируемость:** Можно тестировать отдельные компоненты изолированно
- **Масштабируемость:** Проще добавлять новые функции без изменения существующего кода

### Ограничения и будущие улучшения

- Валидация паролей (проверка совпадения) не реализована на уровне компонента
- Нет интеграции с бэкендом — формы только демонстрируют передачу данных
- Нет обработки ошибок сети или сервера
- Можно добавить больше вариантов иконок
- Можно добавить поддержку `rightSection` (иконка справа)
- Можно добавить unit-тесты для отдельных компонентов

### Использование компонентов в других проектах

Компонент `Input` можно легко использовать в других проектах:

```jsx
import Input from './components/Input/Input';

function MyForm() {
  const [value, setValue] = useState('');
  
  return (
    <Input
      label="Мое поле"
      placeholder="Введите значение"
      value={value}
      onChange={(e) => setValue(e.target.value)}
      withAsterisk
      size="md"
      radius="sm"
    />
  );
}
```

Также можно использовать отдельные подкомпоненты:

```jsx
import InputLabel from './components/Input/InputLabel';
import InputError from './components/Input/InputError';

// Использование отдельных частей для кастомных решений
```

## Заключение

Проект демонстрирует создание переиспользуемых React-компонентов с современной стилизацией и гибкой настройкой. Декомпозиция компонентов на более мелкие части улучшает поддерживаемость кода и делает его более масштабируемым. Все компоненты готовы к использованию и могут быть легко интегрированы в более крупные приложения.
