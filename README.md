# Формы входа и регистрации с настраиваемым компонентом Input

## Цель репозитория

Этот проект создан для демонстрации навыков работы с React и реализации переиспользуемых компонентов. Основная цель — создать настраиваемый компонент поля ввода (`Input`), стилизованный в соответствии с дизайн-системой Mantine, и использовать его для построения форм входа (`Signin`) и регистрации (`Signup`).

Проект показывает:
- Создание переиспользуемых React-компонентов
- Декомпозицию компонентов на более мелкие части
- Управление состоянием форм
- Стилизацию компонентов в стиле современной UI-библиотеки
- Интерактивную демонстрацию возможностей компонента

## Решаемая задача

### Функциональные требования

1. **Настраиваемый компонент Input**
   - Поддержка всех основных props: `placeholder`, `label`, `description`, `error`
   - Настройка внешнего вида: `variant` (default, filled, unstyled), `radius`, `size`
   - Функциональные опции: `disabled`, `withAsterisk` (красная звездочка для обязательных полей)
   - Поддержка иконок слева от текста (например, символ "@" для поля никнейма)
   - Состояния: обычное, focus, error, disabled
   - Стилизация в соответствии с Mantine TextInput

2. **Компонент Signin (Вход)**
   - Поле для email (`type="email"`)
   - Поле для пароля (`type="password"`)
   - Кнопка "Войти"
   - Принимает функцию `onSubmit` в props
   - Передает объект с данными формы в `onSubmit` после отправки

3. **Компонент Signup (Регистрация)**
   - Поле "Имя" (текстовое)
   - Поле "Ник" с иконкой "@" слева
   - Поле "Почта" (`type="email"`)
   - Поле "Пол" с радио-кнопками (Мужской/Женский)
   - Поле "Пароль" (`type="password"`)
   - Поле "Повторить пароль" (`type="password"`)
   - Принимает функцию `onSubmit` в props
   - Передает объект со всеми данными формы в `onSubmit` после отправки

4. **Интерактивная демонстрация**
   - Панель настроек для тестирования всех возможностей компонента Input
   - Изменения применяются в реальном времени

### Проблема, которую решает проект

Проект решает задачу создания единообразного, переиспользуемого компонента поля ввода, который:
- Имеет единый стиль во всем приложении
- Легко настраивается через props
- Поддерживает все необходимые состояния и варианты использования
- Соответствует современным стандартам UI/UX дизайна
- Демонстрирует правильную декомпозицию компонентов для улучшения поддерживаемости кода

## Структура репозитория

```
form1/
├── src/
│   ├── components/              # React компоненты
│   │   ├── common/              # Общие переиспользуемые компоненты
│   │   │   ├── Input/           # Декомпозированный компонент Input
│   │   │   │   ├── Input.jsx    # Главный компонент Input
│   │   │   │   ├── InputLabel.jsx   # Компонент лейбла
│   │   │   │   ├── InputDescription.jsx  # Компонент описания
│   │   │   │   ├── InputError.jsx   # Компонент ошибки
│   │   │   │   ├── InputWrapper.jsx # Обертка для input с иконкой
│   │   │   │   ├── Input.css    # Стили для компонента Input
│   │   │   │   └── utils/      # Утилиты
│   │   │   │       ├── inputConfig.js      # Конфигурация размеров и радиусов
│   │   │   │       └── useInputStyles.js    # Хук для вычисления стилей
│   │   │   ├── FormButton.jsx   # Кнопка формы
│   │   │   ├── FormButton.css
│   │   │   ├── RadioGroup.jsx   # Группа радио-кнопок
│   │   │   ├── RadioGroup.css
│   │   │   └── AtIcon.jsx       # Иконка @
│   │   ├── InputDemo/           # Декомпозированный компонент демо-панели
│   │   │   ├── InputDemo.jsx    # Главный компонент демо-панели
│   │   │   ├── InputDemoPreview.jsx    # Превью компонента
│   │   │   ├── InputDemoControls.jsx  # Панель контролов
│   │   │   ├── ControlGroup.jsx       # Обертка для контрола
│   │   │   ├── TextControl.jsx        # Текстовый контрол
│   │   │   ├── SelectControl.jsx      # Выпадающий список
│   │   │   ├── SliderControl.jsx      # Слайдер
│   │   │   ├── ToggleControl.jsx      # Переключатель
│   │   │   └── *.css                  # Стили для каждого компонента
│   │   ├── Signin/              # Компонент формы входа
│   │   │   ├── Signin.jsx       # Компонент формы входа
│   │   │   └── Signin.css       # Стили для формы входа
│   │   └── Signup/              # Компонент формы регистрации
│   │       ├── Signup.jsx       # Компонент формы регистрации
│   │       └── Signup.css       # Стили для формы регистрации
│   ├── App.jsx                  # Главный компонент приложения
│   ├── App.css                  # Глобальные стили приложения
│   └── main.jsx                 # Точка входа в приложение
├── index.html                   # HTML шаблон
├── vite.config.js               # Конфигурация Vite
├── package.json                 # Зависимости и скрипты
└── README.md                    # Документация проекта
```

### Описание модулей

#### `src/components/common/Input/` — Декомпозированный компонент Input

**Главный компонент:**
- `Input.jsx` — основной компонент, объединяющий все подкомпоненты. Импортирует подкомпоненты и использует хук `useInputStyles` для вычисления стилей.

**Подкомпоненты:**
- `InputLabel.jsx` — отображает лейбл с опциональной красной звездочкой (`withAsterisk` prop)
- `InputDescription.jsx` — отображает описание под лейблом (если передан `description` prop)
- `InputError.jsx` — отображает сообщение об ошибке (если передан `error` prop)
- `InputWrapper.jsx` — обертка для input элемента с поддержкой иконки слева (если передан `icon` prop)

**Утилиты:**
- `utils/inputConfig.js` — конфигурация размеров (xs, sm, md, lg, xl) и радиусов. Экспортирует `sizeConfig`, `radiusMap`, `getSizeConfig()`, `getRadiusValue()`
- `utils/useInputStyles.js` — кастомный хук для вычисления стилей на основе props. Возвращает `inputStyle`, `leftSectionStyle`, `isFocused`, `setIsFocused`

**Стили:**
- `Input.css` — стили для компонента Input (placeholder, hover, disabled состояния)

**Особенности:**
- Все стандартные HTML-атрибуты input поддерживаются через `...props`
- Кастомные props: `type`, `placeholder`, `label`, `description`, `error`, `variant`, `radius`, `size`, `disabled`, `withAsterisk`, `icon`, `value`, `onChange`, `name`
- Состояния: focus (управляется через `useState` в хуке), error, disabled
- Иконки слева от текста через `icon` prop
- Валидация через HTML5 атрибуты (`required`, `type="email"`, и т.д.)

#### `src/components/common/` — Общие переиспользуемые компоненты

- `FormButton.jsx` — универсальная кнопка для форм с единым стилем. Принимает `children` для текста кнопки и все стандартные props кнопки. Стили в `FormButton.css`.
- `RadioGroup.jsx` — компонент группы радио-кнопок с настраиваемыми опциями. Принимает `label`, `name`, `value`, `onChange`, `options` (массив `{value, label}`), `required`. Стили в `RadioGroup.css`.
- `AtIcon.jsx` — иконка символа "@" для использования в полях ввода. Размер 16px, цвет `#868e96`. Используется как `icon={<AtIcon />}` в компоненте Input.

#### `src/components/InputDemo/` — Декомпозированный компонент демо-панели

**Главный компонент:**
- `InputDemo.jsx` — управляет состоянием настроек через `useState` и координирует работу подкомпонентов. Содержит логику преобразования значений слайдеров в строковые значения (xs, sm, md, lg, xl).

**Подкомпоненты:**
- `InputDemoPreview.jsx` — отображает превью компонента `Input/Input.jsx` с текущими настройками из состояния
- `InputDemoControls.jsx` — панель со всеми контролами для настройки. Использует подкомпоненты контролов.
- `ControlGroup.jsx` — обертка для отдельного контрола (лейбл + контрол). Используется всеми контролами.
- `TextControl.jsx` — текстовое поле для ввода значений (Placeholder, Label, Description, Error)
- `SelectControl.jsx` — выпадающий список для выбора вариантов (Variant: default, filled, unstyled)
- `SliderControl.jsx` — слайдер для выбора числовых значений (Radius, Size). Отображает текущее значение справа от слайдера.
- `ToggleControl.jsx` — переключатель для boolean значений (Disabled, With asterisk)

**Стили:**
- Каждый компонент имеет свой CSS файл: `ControlGroup.css`, `TextControl.css`, `SelectControl.css`, `SliderControl.css`, `ToggleControl.css`
- `InputDemo.css` — стили для контейнера демо-панели
- `InputDemoControls.css` — стили для панели контролов

**Особенности:**
- Интерактивная панель настроек с реальным временем обновления
- Изменения применяются мгновенно через управление состоянием
- Все контролы изолированы и переиспользуемы
- Слайдеры визуально показывают заполненную часть синим цветом

#### `src/components/Signin/` — Компонент формы входа

**Файлы:**
- `Signin.jsx` — компонент формы входа
- `Signin.css` — стили для формы входа

**Использует:**
- Два компонента `common/Input/Input.jsx` (email и password)
- Компонент `common/FormButton.jsx` для кнопки отправки
- Локальное состояние (`useState`) для управления данными формы
- Обработчик отправки формы, который вызывает `onSubmit` с объектом `{ email, password }`

**Импорты:**
```jsx
import Input from '../common/Input/Input';
import FormButton from '../common/FormButton';
```

**Особенности:**
- Использует полные имена параметров (`event` вместо `e`) для лучшей читаемости
- Все стили изолированы в директории компонента

#### `src/components/Signup/` — Компонент формы регистрации

**Файлы:**
- `Signup.jsx` — компонент формы регистрации
- `Signup.css` — стили для формы регистрации

**Использует:**
- Несколько компонентов `common/Input/Input.jsx` для различных полей (имя, ник, почта, пароль, повторить пароль)
- Компонент `common/AtIcon.jsx` для поля никнейма (передается как `icon` prop)
- Компонент `common/RadioGroup.jsx` для выбора пола
- Компонент `common/FormButton.jsx` для кнопки отправки
- Обработчик отправки формы, который вызывает `onSubmit` с объектом `{ name, nickname, email, gender, password, repeatPassword }`

**Импорты:**
```jsx
import Input from '../common/Input/Input';
import FormButton from '../common/FormButton';
import RadioGroup from '../common/RadioGroup';
import AtIcon from '../common/AtIcon';
```

**Особенности:**
- Использует полные имена параметров (`event` вместо `e`) для лучшей читаемости
- Все стили изолированы в директории компонента

#### `src/App.jsx`
Главный компонент, который:
- Рендерит демо-панель Input
- Рендерит формы Signin и Signup
- Предоставляет обработчики `onSubmit` для демонстрации работы

### Взаимодействие компонентов

```
App.jsx
├── InputDemo/InputDemo.jsx
│   ├── InputDemoPreview.jsx
│   │   └── common/Input/Input.jsx (с различными настройками)
│   └── InputDemoControls.jsx
│       ├── TextControl.jsx (Placeholder, Label, Description, Error)
│       ├── SelectControl.jsx (Variant)
│       ├── SliderControl.jsx (Radius, Size)
│       └── ToggleControl.jsx (Disabled, With asterisk)
├── Signin/Signin.jsx
│   ├── common/Input/Input.jsx (email, password)
│   └── common/FormButton.jsx
└── Signup/Signup.jsx
    ├── common/Input/Input.jsx (имя, ник с иконкой, почта, пароль, повторить пароль)
    ├── common/RadioGroup.jsx (пол)
    ├── common/AtIcon.jsx (иконка для поля никнейма)
    └── common/FormButton.jsx
```

Все компоненты используют единый `common/Input/Input.jsx`, что обеспечивает консистентность дизайна и поведения. Декомпозиция позволяет легко поддерживать и расширять код.

**Пути импорта:**
- `Input`: `import Input from './components/common/Input/Input'`
- `FormButton`: `import FormButton from './components/common/FormButton'`
- `RadioGroup`: `import RadioGroup from './components/common/RadioGroup'`
- `AtIcon`: `import AtIcon from './components/common/AtIcon'`
- `InputDemo`: `import InputDemo from './components/InputDemo/InputDemo'`
- `Signin`: `import Signin from './components/Signin/Signin'`
- `Signup`: `import Signup from './components/Signup/Signup'`

## Как запускать / использовать / тестировать

### Предварительные требования

- Node.js (версия 16 или выше)
- npm или yarn

### Установка зависимостей

```bash
npm install
```

### Запуск в режиме разработки

```bash
npm run dev
```

После запуска приложение будет доступно по адресу `http://localhost:5173` (или другому порту, если 5173 занят).

### Сборка для продакшена

```bash
npm run build
```

Собранные файлы будут в папке `dist/`.

### Просмотр собранной версии

```bash
npm run preview
```

### Инструкции для проверки

1. **Проверка демо-панели Input:**
   - Откройте приложение в браузере
   - В верхней части страницы вы увидите демо-панель
   - Слева — превью компонента Input
   - Справа — панель настроек
   - Попробуйте изменить различные параметры:
     - Placeholder, Label, Description, Error (текстовые поля)
     - Variant (выпадающий список: Default, Filled, Unstyled)
     - Radius (слайдер: xs, sm, md, lg, xl)
     - Size (слайдер: xs, sm, md, lg, xl)
     - Disabled (переключатель)
     - With asterisk (переключатель)
   - Убедитесь, что изменения применяются в реальном времени

2. **Проверка формы Signin:**
   - Найдите секцию "Вход" на странице
   - Заполните поля email и password
   - Нажмите кнопку "Войти"
   - Должно появиться alert с данными формы
   - Проверьте консоль браузера — там также будут данные

3. **Проверка формы Signup:**
   - Найдите секцию "Регистрация" на странице
   - Заполните все поля:
     - Имя
     - Ник (обратите внимание на иконку "@" слева)
     - Почта
     - Пол (выберите один из вариантов)
     - Пароль
     - Повторить пароль
   - Нажмите кнопку "Зарегистрироваться"
   - Должно появиться alert с данными формы
   - Проверьте консоль браузера

4. **Проверка валидации:**
   - Попробуйте отправить формы без заполнения обязательных полей
   - Браузер должен показать стандартную валидацию HTML5
   - Поля с `withAsterisk` должны иметь красную звездочку

5. **Проверка состояний Input:**
   - В демо-панели включите "Disabled" — поле должно стать неактивным
   - Введите текст в поле "Error" — должно появиться сообщение об ошибке
   - Кликните на поле ввода — должна появиться синяя рамка (focus state)
   - Попробуйте разные варианты Variant, Radius и Size

## Важные детали

### Технологический стек

- **React 18.2.0** — библиотека для создания пользовательских интерфейсов
- **Vite 5.0.0** — инструмент сборки и dev-сервер
- **Чистый CSS** — стилизация без дополнительных библиотек

### Особенности реализации

1. **Декомпозиция компонентов:**
   - Компоненты разбиты на более мелкие, переиспользуемые части
   - Каждый компонент отвечает за одну задачу (Single Responsibility Principle)
   - Улучшена читаемость и поддерживаемость кода
   - Легче тестировать отдельные части

2. **Стилизация в стиле Mantine:**
   - Компонент Input стилизован в соответствии с дизайн-системой Mantine
   - Используются точные цвета, размеры и радиусы из Mantine
   - Поддержка всех вариантов: default, filled, unstyled

3. **Управление состоянием:**
   - Используется React hooks (`useState`) для локального состояния форм
   - Состояние focus управляется через кастомный хук `useInputStyles`
   - Конфигурация вынесена в отдельные утилиты

4. **Передача данных:**
   - Компоненты Signin и Signup принимают функцию `onSubmit` через props
   - Данные передаются в виде объекта с ключами, соответствующими именам полей
   - Пример данных Signin: `{ email: "...", password: "..." }`
   - Пример данных Signup: `{ name: "...", nickname: "...", email: "...", gender: "...", password: "...", repeatPassword: "..." }`

5. **Иконки:**
   - Иконка "@" для поля никнейма реализована как отдельный компонент `AtIcon`
   - Размер иконки: 16px (как в Mantine)
   - Иконка позиционируется абсолютно слева внутри поля ввода

6. **Переиспользуемые компоненты:**
   - `FormButton` — единая кнопка для всех форм
   - `RadioGroup` — универсальный компонент для групп радио-кнопок
   - Все контролы в `InputDemo` изолированы и могут использоваться отдельно

7. **Адаптивность:**
   - Демо-панель адаптируется под размер экрана
   - На мобильных устройствах панель настроек располагается под превью

### Преимущества декомпозиции

- **Переиспользуемость:** Компоненты можно использовать отдельно в других частях приложения
- **Читаемость:** Каждый компонент имеет четкую ответственность
- **Поддерживаемость:** Легче находить и исправлять ошибки
- **Тестируемость:** Можно тестировать отдельные компоненты изолированно
- **Масштабируемость:** Проще добавлять новые функции без изменения существующего кода

### Ограничения и будущие улучшения

- Валидация паролей (проверка совпадения) не реализована на уровне компонента
- Нет интеграции с бэкендом — формы только демонстрируют передачу данных
- Нет обработки ошибок сети или сервера
- Можно добавить больше вариантов иконок
- Можно добавить поддержку `rightSection` (иконка справа)
- Можно добавить unit-тесты для отдельных компонентов

### Использование компонентов в других проектах

Компонент `Input` можно легко использовать в других проектах:

```jsx
import Input from './components/common/Input/Input';

function MyForm() {
  const [value, setValue] = useState('');
  
  return (
    <Input
      label="Мое поле"
      placeholder="Введите значение"
      value={value}
      onChange={(e) => setValue(e.target.value)}
      withAsterisk
      size="md"
      radius="sm"
      name="myField"
    />
  );
}
```

Также можно использовать отдельные подкомпоненты:

```jsx
import InputLabel from './components/common/Input/InputLabel';
import InputError from './components/common/Input/InputError';
import InputDescription from './components/common/Input/InputDescription';
import InputWrapper from './components/common/Input/InputWrapper';

// Использование отдельных частей для кастомных решений
```

Использование общих компонентов:

```jsx
import FormButton from '../common/FormButton';
import RadioGroup from '../common/RadioGroup';
import AtIcon from '../common/AtIcon';

// FormButton - универсальная кнопка для форм
<FormButton>Отправить</FormButton>

// RadioGroup - группа радио-кнопок
<RadioGroup
  label="Выберите вариант"
  name="option"
  value={selectedValue}
  onChange={handleChange}
  options={[
    { value: '1', label: 'Вариант 1' },
    { value: '2', label: 'Вариант 2' }
  ]}
/>

// AtIcon - иконка @ для использования в Input
<Input icon={<AtIcon />} />
```

## Заключение

Проект демонстрирует создание переиспользуемых React-компонентов с современной стилизацией и гибкой настройкой. Декомпозиция компонентов на более мелкие части улучшает поддерживаемость кода и делает его более масштабируемым. Все компоненты готовы к использованию и могут быть легко интегрированы в более крупные приложения.
